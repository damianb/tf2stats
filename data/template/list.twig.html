{% extends "layout.twig.html" %}
{% block title %}server rankings - {{ parent() }}{% endblock %}
{% block content %}
	<br />
	{% include "pagination.twig.html" %}
	<div class="table ranking">
		<div class="tableheader">
			<span class="column-rank lead">Rank</span>
			<span class="column-name">Name</span>
			<span class="column-points">Points</span>
			<span class="column-playtime">Total playtime</span>
			<span class="column-lastonline trail">Last online</span>
		</div>
		<div class="tablebody">
		{% for u in data %}
			<div class="tablerow">
				<span class="cell column-rank lead">{{ u.rank }} </span>
				<span class="cell column-name"><a href="{{ url.playerProfile(u.steamid64)}}"{% if u.ismember and not u.is_banned %} class="groupplayer" title="group member"{% endif %}{% if u.is_banned %} class="banneduser" title="banned: {{ u.BANREASON }}"{% endif %}>{{ u.NAME }}</a></span>
				<span class="cell column-points">{{ u.POINTS }}</span>
				<span class="cell column-playtime">{{ u.playspan }}</span>
				<span class="cell column-lastonline trail"><span title="{{ u.lastonline_utc }}">{{ u.lastonline }}</span></span>
			</div>
		{% else %}
			<div class="tablerow">
				<span class="column-max">No results</span>
			</div>
		{% endfor %}
		</div>
	</div>
	<div class="dataoverview">
		<div class="recordrange">Viewing ranks {{ pagination.record.from }} to {{ pagination.record.to }}</div>
		<div class="recordtotal">{{ pagination.record.total }} records in total</div>
	</div>

	{% include "pagination.twig.html" %}
	<br />
{% endblock %}
